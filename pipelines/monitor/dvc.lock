schema: '2.0'
stages:
  predict:
    cmd: python ../../src/stages/predict.py --config=params.yaml
    deps:
    - path: ../../data/current.csv
      md5: a7a83c4bc49a45ad14cf9d4b64b173b7
      size: 45736
    - path: ../../data/reference.csv
      md5: ff6463a6dd33b07bb405b6c272dc4fda
      size: 38764
    - path: ../../models/model.pickle
      md5: 8e15eaf7ab3dfa9202fc5059386797e3
      size: 2315104
    - path: ../../src/stages/predict.py
      md5: bed758ba93a4a7866b491ea93511b54f
      size: 2288
    params:
      params.yaml:
        base:
          workdir: ../..
          logging_level: INFO
        predict:
          model_path: models/model.pickle
    outs:
    - path: ../../data/current_prediction.csv
      md5: 7f3aa625f80cfdbcaccfa5ab4b7dcf4c
      size: 49910
    - path: ../../data/reference_prediction.csv
      md5: 417fe5cb6e3c7cdd657ec40ea21df524
      size: 42328
  monitoring:
    cmd: python ../../src/stages/monitor_model.py --config=params.yaml
    deps:
    - path: ../../data/predictions/2011-01-29--2011-02-04.csv
      md5: eec57c005ed01e179cf3463ff6443196
      size: 11253
    params:
      params.yaml:
        base:
          workdir: ../..
          logging_level: INFO
        predict:
          model_path: models/model.joblib
          week_start: '2011-01-29'
          week_end: '2011-02-04'
          predictions_dir: data/predictions
    outs:
    - path: ../../reports/2011-01-29--2011-02-04/model_performance.html
      md5: cee81bdbd06f6ffec893d64a9ead8989
      size: 3110875
    - path: ../../reports/2011-01-29--2011-02-04/target_drift.html
      md5: abcda66a8d1516d3ff08099926e697f1
      size: 3017364
